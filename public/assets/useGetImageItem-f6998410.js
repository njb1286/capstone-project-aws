import{r as s,f as p,i as I,g as E,h as d,j as m,L as l}from"./index-a92a2e79.js";import y from"./PageNotFound-2811cb32.js";function M(e){const[c,r]=s.useState(!1),[n,u]=s.useState(null),o=s.useRef(!1),f=p(),i=I(t=>t.imageItems);s.useEffect(()=>{if(o.current)return;if(o.current=!0,!e){r(!0);return}const t=i.find(a=>a.id===+e);if(t){u(t);return}g()},[i,e]);async function g(){try{const t=await fetch(`${E}/get?id=${e}`,d("GET"));if(t.status>299){r(!0);return}const a=await t.json();f({type:"ADD_IMAGE_ITEM",payload:a}),u(a)}catch{r(!0)}}return c?{type:"COMPONENT",payload:m.jsx(y,{hasLink:!0,message:"Hmmm... we couldn't find that image"})}:n?{type:"IMAGE_ITEM",payload:n}:{type:"COMPONENT",payload:m.jsx(l,{})}}export{M as u};
